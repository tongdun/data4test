##### todo:
1. 初次进入，跳转类似使用说明指导文档，然后再跳转正式使用登录页面   [优先级低]
2. 场景支持脚本执行类，支持测试数据导入类
3. 支持接口mock（兼容三方服务接口调用mock服务） [优先级低]
4. 支持导出为swagger文档 [优先级低]
5. 断言模板保存和选择
6. yaml文档变量替换使用类似jinja模板替换思路
7. 并发改用管道通信机制
8. 控制台支持数据，场景的删除，后台文件的删除（考虑后，还是不支持，去列表进行删除）
9. 被测环境服务停掉后，任务没法正常执行，服务会挂掉（需要复现，是否真的该原因）
10. 支持统计类数据输出：sum, count, avg……
11. 数据量大时，报表加载慢，进行SQL优化

##### 接口管理：
###### 前端：需要按功能以及易用性进行设计和开发
###### 功能：
1. 接口状态管理
- 接口变更后接口数据提示变更状态
- 接口状态历史记录
- 接口状态自动维护(定义，对接，调试，稳定，测试，发布)
    - 定义：编辑过的接口
    - 对接：经过mock过的接口
    - 调试：开发环境跑过的接口
    - 稳定：开发环境N个测试数据测试通过的接口
    - 测试：测试环境开始跑的接口
    - 发布：测试环境N个测试数据测试通过的接口
2. 接口Mock
- mock调用记录
- 自动生成mock数据
- 自动生成符合指定特征的mock数据
- 自动生成边界mock数据
3. 数据统计
- 增加接口过程管理的数据统计

##### 待加需求：
任务调度：
1. 数据或场景执行执行一定次数时，自动创建任务，可以通过任务进行暂停管理
2. 立即执行一次性任务支持暂停
3. 控制台，场景域，增加全量场景检索的入口
4. 数据历史域，请求数据和返回数据控制台格式化，方便查看结果
5. 整体复制包进行，文件单独进行变更  (低)
6. 历史版本查看，找谁改数据了 (低)
7. 场景列表场景编辑，开发富文件编辑模式  (低)
8. 数据生成设计并发生成，目前是串行的，并发数可控制，且支持批量写
9. 环境资源少，需要定期清理历史记录信息  (低)
10. MySQL环境不稳定，需要定期备份数据
11. 统计报告存表后台统计，每次拉取最新的数据，非定时任务，每次获取为上一次更新的数据，点击一次，后台更新一次结果
12. 历史数据文件中增加失败原因记录，方便历史信息溯源
13. 场景过程变量考虑记录，方便问题定位，日志按级别控制输出
14. 参数定义模块功能看情况进行废除和功能迁移
15. go.mod中的依赖本地的filemanager变更为远程的库
16. 提供标准化模板，CRUD，异常场景，并发场景，性能测试等等
17. 任务下执行场景和数据，进行错误精细化管理，如果是连接层面的错误，后续不再执行，如果是单场景执行的原因，继续执行
18. 一键查看未自动化的接口数据
19. 测试环境检测一下环境鉴权是否OK
20. 数据保存时格式不正常，错误返回到前台
21. upload上传文件写定时任务进行备份，数据会有丢失的情况
22. 生成数据文件时，存在字段没有title
23. 控制台执行成功需要把结果返回，现状：%!s()
24. 控制台数据域编写数据，请求格式为raw时。 Content-Type会被置为raw
25. 数据测试编写备注保存后，数据文件的链接会被干掉
26. 控制台场景域环境变更后，再选择场景，关联数据不会同步变动
27. 数据文件中动作带生成数据的，与数据执行的增加隔离，执行不影响数据的生成
28. 实时生成的数据特征记录成为离线需要的数据特征
29. 兼容实时，离线，三方数据打通
31. 任务列表增加状态过滤
36. 部分swagger文档中有OPTIONS, HEAD, PATCH, TRACE请求类型，需要进行兼容适配

##### 记录格式：
序号：[Type] #问题单号或需求或优化单号 XXXX


##### 2023年12月13日
1. [Feature] 通过证件号码获取所在的省份，城市，性别，地区，邮码等信息
2. [Feature] 通过swagger导入接口信息，兼容3.0以上版本的格式
3. [Bug]  header中Content-Type如果用了不对的类型，带了charset等其他信息，请求时，返回会什么也没有, 逻辑兼容处理
4. [Feature] 支持通过Cookie中的语言信息，自动生成对应语言的测试数据，无需变更脚本
5. [Feature] 支持通过Cookie中的语言信息，断言值自动获取不同语种的值，断言值通过占位符定义
6. [Feature] 支持通过Cookie中的语言信息，系统参数自动获取不同语种的值，断言值通过占位符定义


##### 2023年10月20日
1. [Bug] 数据测试编写备注保存后，数据文件的链接会被干掉（doing）

##### 2023年8月25日
1. [Feature] 增加Mock数据返回（临时）

##### 2023年8月21日
1. [Bug] 生成CSV文件里，如果有JSON字段，使用|进行分隔，默认使用,分隔

##### 2023年8月17日
1. [Bug]任务执行记录场景历史数据时，历史结果数据和场景列表结果发生交叉

##### 2023年8月16日
1. [Bug]控制台场景域执行后历史数据记录不对
2. [Bug]场景历史列表再次执行和继续的最近数据生成了新的历史数据文件

##### 2023年8月15日
1. [Bug]场景历史域执行后最近的数据文件非历史执行过的数据历史

##### 2023年8月10日
1. [Feature] 场景历史关联实际执行的历史数据，减少定位问题数据混淆的问题
2. [Feature] 场景历史继续执行以当时执行的历史数据为基础执行
3. [Feature] 场景历史再来一次执行以当时执行的历史数据复原执行
4. [Feature] 控制台数据历史域只展示历史数据文件
5. [Feature] 控制台场景历史域直接展示历史执行的数据文件
6. [Feature] 数据列表，场景列表生成测试任务时，支持N次执行
7. [Feature] 数据，场景执行次数比较多时，支持并发数控制，在产品环境处开启并发模式，以及并发次数进行控制
8. [Optimize] 数据管理路径统一规划和调整，涉及配置文件和内置数据路径(发布时需要注意各种路径信息)

##### 2023年7月28日
1. [Optimize] 数据测试历史文件列表去除目录信息的展示，减少冗余信息展示

##### 2023年7月26日
1. [Optimize] 立即执行的一次性任务支持在后台执行
2. [Optimize] 任务执行代码优化
3. [Bug] 任务执行控制台增加的sleep动作保存后为字符串的数据文件后，运行时会异常
4. [Feature] 场景历史能和对应的数据历史绑起来查看

##### 2023年7月24日
1. [Feature] 场景历史执行支持再来一次，和继续
2. [Optimize] 任务列表执行数据场景的任务，数据测试结果记录产品信息
3. [Optimize] 数据历史列表再来一次，结果记录产品信息
4. [Optimize] 运行中的任务不允许再次执行
5. [Optimize] 控制台执行的场景历史记录没有超链
6. [Optimize] 场景列表生成测试任务序号需要直接生成
7. [Optimize] 数据列表生成测试任务序号需要直接生成
8. [Optimize] 修改自动生成测试任务的提示信息，修改自动生成测试任务的名称，增加区分度
9. [Optimize] 控制台-数据域执行，支持调用产品下的专用参数
10. [Optimize] 任务列表，数据类型任务支持调用产品下的专用参数
11. [Bug] 任务列表，单次执行的任务失败后，任务状态一直运行中
12. [Bug] 任务列表，执行数据类型的任务，数据请求的环境信息非关联的产品环境信息

##### 2023年7月21日
1. [Optimize] 任务列表支持产品名称过滤
2. [Optimize] 数据列表，产品列表，应用列表，系统参数等多个页面增加修改时间显示
3. [Optimize] 产品维度统计报告数据隔离

##### 2023年7月7日
1. [Feature]断言结果值支持四则运算
2. [Feature]断言非output计算符取数据时，需要支持下标取值并且对应断言的处理
3. [Feature]请求数据支持占位符${name}不做转译的功能

##### 2023年6月25日
1 [Bug] 动作节点sleep时会被create_hive_table_sql动作影响，进行隔离修复

##### 2023年6月16日
1. [Optimize] 生成CSV或EXCEL文件，进行字段排序，保持数据顺序固定

##### 2023年5月18日
1. [Optimize] 控制台-场景域保存支持自带超链功能，和新功能适应

##### 2023年5月17日
1. [Optimize] 场景列表，场景历史列表数据文件放开展示(临时方案，需优化处理)
2. [Optimize] 场景列表,场景历史列表查看详情关联数据文件自动增加换行，可读性更好
3. [Optimize] 结果菜单下的名称变更
4. [Optimize] 结果，场景列表增加唯一标识展示和精确匹配过滤
5. [Bug] 控制台-场景域运行的场景，场景测试历史环境类型不对，为赋值错误导致
6. [Optimize] 场景列表，编辑关联数据文件时，可单行编辑，数据文件支持上下移动
7. [Optimize] 定时任务列表关联数据或场景支持单选编辑和上下移动
8. [Optimize] 数据历史增加产品环境信息记录，方便问题定位

##### 2023年5月12日
1. [Feature] 场景列表配合新功能增加数据修正代码(如有数据修正，需单独沟通使用)

##### 2023年5月11日
1. [Optimize] 场景列表，场景历史列表数据文件放开展示
2. [Feature] 任务列表，关联数据，关联场景改为单条编辑，并且支持上下移动
3. [Feature] 任务列表复制功能增加场景和数据的序号/标签信息的复制
4. [Feature] 场景列表，编辑关联场景改为单条编辑，并且支持上下移动
5. [Feature] 场景列表，编辑关联场景后，内容直接变为超链，方便问题定位
6. [Feature] 场景列表复制功能增加场景序号/标签信息的复制

##### 2023年5月6日
1. [Optimize] 场景列表,场景历史列表查看详情关联数据文件自动增加换行，可读性更好
2. [Optimize] 场景列表编辑关联数据文件时，可单行编辑，数据文件支持上下移动 (doing)

##### 2023年4月27日
1. [Optimize]结果菜单下的名称变更
2. [Optimize] 结果，场景列表增加唯一标识展示和精确匹配过滤
3. [Optimize] 数据历史增加产品环境信息记录，方便问题定位(doing)
4. [Bug] 控制台-场景域运行的场景，场景测试历史环境类型不对，为赋值错误导致


##### 2023年4月25日
1. [Bug] 查询数据进行参数输出时，无数据时，未进行中断和错误返回
2. [Bug] 取数组值时，提前进行了中断，增加逻辑，为空时，报错返回
3. [Bug] 控制台-数据历史域，运行，结果成功会显示操作失败，为路径错误导致


##### 2023年4月24日
1. [Optimize]场景列表，场景列表列表，详情页，和编辑页把场景数据文件展示出来，与列表进行区分

##### 2023年4月17日
1. [Bug] 通过控制台配置的动作sleep操作，保存值为字符串，执行时兼容字符串的值（后续优化一定处理代码）

##### 2023年4月14日
1. [Bug]任务关联产品，执行鉴权信息拿的是老的，问题修正
2. [Optimize]场景列表，场景列表列表，任务任务，关联数据不做展示，通过详情页查看

##### 2023年4月3日
1. [Feature] 支持Excel文件自动生成，内容为数据文件中配置的body字段，根据动作值生成对应条数数据（功能待完善）


##### 2023年3月23日
1. [Feature] 支持CSV文件自动生成，内容为数据文件中配置的body字段，根据动作值生成对应条数数据（功能待完善）

##### 2023年3月21日
1. [Feature] 定时任务增加产品环境选择和配置, 方便任务跨环境执行，默认不选为场景配置关联的产品环境

##### 2023年3月7日
1. [Optimize] 断言源数据为raw整体返回值时，断言错误显示只显示一次返回值,减少信息重复展示和查看不友好

##### 2023年3月3日
1. [Feature] 控制台增加动作配置和展示,后端接口同步增加

##### 2023年3月1日
1. [Feature] 增加小时，分钟，秒级前的时间获取，e.g.: Hour(-1), Second(-60), Minute(-25), Hour(-30,-10),Second(-60,-30), Minute(-25,-10)

##### 2023年2月27日
1. [Feature] 返回值整体增加断言类型，源数据定义使用关键字raw

##### 2023年2月3日
1. [Optimize] 获取返回值为数组时，直接全量取，e.g.: data: {"ips": ["192.168.1.1", "192.168.1.2"]}, 通过：data-ips直接提取["192.168.1.1","192.168.1.2"]整体的值

##### 2023年2月2日
1. [Bug] 数据文件中测试结果遇到fail，后续断言结果全被置为失败的问题修复
2. [Optimize] 错误信息返回去除空指标占位符的展示

##### 2023年2月1日
1. [Optimize] 返回数据支持嵌套数组数据的提取，例如：data:[[{"msg": "通过XXX", "timeUnit": "MONTH"}]], 通过：data**timeUnit提取时间单位数据
2. [Bug] Single Body请求数据多层嵌套数据丢失问题修复

##### 2023年1月29日
1. [Optimize] 数据列表页面"接口ID"字段支持模糊检索

##### 2023年1月28日
1. [Optimize] 控制台选择数据类型后自动写到header头里（100%）,前端，后端同步变动，定义域、运行域，数据域，数据历史域均同步变动

##### 2023年1月12日
1. [Optimize] 控制台选择数据类型后自动写到header头里（20%）

##### 2023年1月10日
1. [Feature] 新增参数{Month(int)}，{Year(int)}， {Month}, {Year}的自动生成

##### 2023年1月4日
1. [Optimize] 所有格式的文件均回写，复杂结构的JSON文件回写后占位符会被替换，下次执行时会从库里重新拉占位符
2. [Optimize] 场景执行里，从库里拉最新的数据保存到数据文件，再执行
3. [Optimize] 兼容返回值为[]interface{}的取值，默认取第一个，变为字符串

##### 2023年1月3日
1. [Optimize] application/json格式的数据，只要有output即回写

##### 2022年12月5日
1. [Feature] 参数中嵌套List字典的，支持循环替换

##### 2022年11月30日
1. [Feature]接口定义列表增加是否自动化字段，统计报告逻辑进行同步变更

##### 2022年11月29日
1. [Bug]Single下string参数带list json格式的，无占位符时内容被清空问题修复

##### 2022年11月25日
1. [Optimize] 控制台数据域执行请求参数和header头等信息遇错时未返回，进行逻辑优化和调整

##### 2022年11月22日
1. [Bug] 控制台场景域无法正常保持问题修复，原因：字段对接类型不匹配

##### 2022年11月17日
1. [Feature]控制台增加场景历史域, 包括：历史数据查看，运行，保存等
2. [Optimize]Xmind导入测试用例显示导入失败，实际导入成功问题修复，原因：空产品名字报错，直接过滤
3. [Bug]测试用例管理过滤功能异常问题修复
4. [Bug] 场景测试历史场景类型未显示中文名称
5. [Bug] 比较类型场景执行完成后，结果未同步更新


##### 2022年11月08日
1. [Optimize]场景域运行遇错逻辑优化和顺序调整
2. [Bug]场景列表对场景进行修改再保存，控制台加载无法正常显示，场景列表执行找不到文件问题修复
3. [Optimize]场景域会概率性增加单条场景，为数据域执行自动保存的，更改逻辑为：数据域配置了前置或后置的关联数据时，执行才自动保存为场景

##### 2022年11月07日
1. [Bug]跨环境时，场景域执行测试，出现文件不存在情况问题修复，问题原因：数据结构对接定义不对
2. [Feature]Sing Body下参数支持索引选择

##### 2022年11月04日
1. [Feature]产品维度增加专用参数，该产品下全部场景自动使用定义的专用参数，方便全局参数定义，例如：机构，渠道，事件类型等

##### 2022年11月03日
1. [Feature]自动生成参数Date只生成20XX-0X-0X, 带时分秒的由Time生成20XX-0X-0X 0X:0X:0X, Date(-X), Time(-X), Date(-X,Y), Time(-X,Y)生成格式同步变更
2. [Bug]控制台场景运行失败时，数据文件名称在前端进行展示，数据字段字义前后端未对齐
3. [Bug]运行域输出参数未显示问题修复，前端未进行字段展示
4. [Feature]场景域支持比较类型的场景执行
5. [Optimize]比较场景数据比较逻辑优化，先收集全部变量，然后再一一比较

##### 2022年9月19日
1. [Feature]场景数据执行找不到数据文件时，优先从数据库拉信息进行自动生成，同名即可自动生成

##### 2022年9月13日
1. [Feature]支持级联数据的生成，例如：中国-浙江省-金华，先定义级联数据定义，然后通过{TreeData_China[3]},{TreeData_China[1]},{TreeData_China[2]}取数据
   {TreeData_China[3]}表示取的第3层数据：金华，{TreeData_China[1]}取的第一层数据：中国，{TreeData_China[2]}表示取的第2层数据：浙江省
   级联数据可自己定义，目前支持3层取，可定义任意的3层级联数据进行取用

##### 2022年8月16日
1. 生成特征数据代码优化和BUG优化以及新增几个特征数据的生成

##### 2022年8月15日
1. 支持body直接是List请求的数据(仅文件编写，控制台未适配)
2. 支持复杂多层body请求数据，第一层和第二层支持占位符替换，再深层原样请求
3. delete支持query参数请求
4. 数据文件不存在时，运行时自动创建（适用于平台带SQL数据迁移，可以无需带数据包，执行时按需创建）

##### 2022年8月12日
1. 支持TimeGMT(-3)生成几天前或几天后的GMT日期格式

##### 2022年8月11日
1. 支持通过关键字TimeFormat生成各种格式的时间字符串
2. 支持通过TimeGMT生成“Fri Aug 26 2022 23:59:59 GMT+0800”格式时间字符串

##### 2022年8月2日
1. Body参数Single中带字典的变量，支持占位符变量替换

##### 2022年8月1日
1. Body参数Single中多变量替换没有替换成功问题修复

##### 2022年7月28日
1. 场景列表，数据列表复制数据时，创建人会串掉问题修复（变量作用域问题导致）

##### 2022年7月21日
1. 字段串多个变量替换未替换全部问题修复

##### 2022年7月19日
1. [前端]数据域prepath路径根据数据文件的内容同步更新

##### 2022年7月14日
1. CICD节点接口检查拉取接口数据由sleep2s改为sleep10s

##### 2022年7月13日
1. 场景或数据执行多次时，测试失败即中断后续次数的执行
2.
##### 2022年7月5日
1. 系统未跑数据时，仪表盘页面无法正常加载问题修复
2. 控制台-运行域，跨模块接口描述信息不清空问题修复
3. 控制台-运行域，已有数据描述信息修改，不会清空已有信息
4. 相关logo由"Data4Perf"改为"盾测-自动化"

##### 2022年6月13日
1. 场景测试历史表单和场景数据测试历史表单增加环境类型信息的写入

##### 2022年5月31日
1. 支持参数时间范围随机，时间戳随机，e.g.: Date(-10,5), Timestamp(-5,10)……
2. output内容在控制台展示,包括：数据域，历史域

##### 2022年5月27日
1. 数据域增加数据版本，接口ID，是否并发，是否使用公共环境参数配置
2. 场景域增加场景类型，执行次数参数配置，控制台只支持单次执行，需要多次的去列表执行

##### 2022年5月26日
1. 历史域变更为选择日期再查看具体数据
2. 查看日期时性能优化，由2s+降至1s内
3. 历史域数据多值运行出生panic问题修复，未进行map初始化

##### 2022年5月25日
1. 服务重启后，运行中的任务自动重新启动
2. 服务发生panic后，进行recovery
3. 定时任务执行过程中，概率性发生panic问题修复
4. 任务管理关联场景按时间倒序排, 关联数据文件按时间倒序排
5. CICD接口规范检查节点增加重试机制，解决前置节点服务未完全启动但已变绿的情况


##### 2022年4月10日
1. 支持日,月，年开始时间，结束时间，时间戳等

##### 2022年2月11日
1. 增加无鉴权接口调用接口规范检查

##### 2021年12月7日
1. 修复接口管理控制台定义域方法前端不能正常显示的问题

##### 2021年12月3日
1. 增加接口管理控制台
2. 改造swagger导入适配新的数据结构

##### 2021年11月10日
1. 修改登录页面所有权为TongDun字样

##### 2021年11月9日
1. single下复杂结构占位符保持问题修复中(undo)

##### 2021年11月8日
1. 支持single参数下复杂结构数据占位符的使用
2. 场景列表支持创建人信息查看
3. 数据文件列表支持创建人信息查看
4. 任务列表支持创建人信息查看
5. 部分列表宽度调整

##### 2021年11月4日
1. 断言校验结构不匹配进行异常捕获
2. 断言中支持跟定义的变量和前一文件提供的数据做比较
3. 支持选择数据文件和场景以任务形式执行
4. 测试结果失败打印header信息，非全局环境信息

##### 2021年11月3日
1. 导入文件类，文件不存在时报错提示

##### 2021年11月1日
1. 产品列表增加关联应用字段
2. 增加全局维度的数据统计报告
3. 增加产品维度的数据统计报告
4. 增加应用维度的数据统计报告

##### 2021年10月21日
1. 修复场景列表找不到json文件的问题

##### 2021年10月19日
1. 单参数query支持更多数据类型

##### 2021年10月15日
1. JOSN格式数据文件测试结果回写成YAML格式问题修复，应用写成JSON格式
2. body请求数据存在特殊字符时问题修复

##### 2021年10月14日
1. 生成指定长度中文字符功能修复
2. 支持json格式编辑数据文件，并支持测试，数据回写

##### 2021年10月9日
1. 解决场景复制和导入SQL更新字段报错的问题,临时修复

##### 2021年9月22日
1. 接口规范检查增加更多检查项

##### 2021年9月14日
1. 支持从Swagger路径获取接口文档信息
2. 增加接口规范检查功能
3. 增加接口规范检查结果页面展示

##### 2021年9月14日
1. Swagger导入API接口定义，formData类型格式未正常识别修改，数据结构不一致导致

##### 2021年9月14日
1. 支持测试用例关联场景，关联产品功能
2. 测试用例列表页支持关联场景信息选择修改
3. 测试用例列表页支持测试结果选择修改
4. 场景列表页支持执行次数，优先级修改，场景数据列表页支持执行次数修改

##### 2021年9月13日
1. 通过接口定义，测试数据，模糊数据生成场景数据文件会覆盖问题修复，索引缺少名称作为组合唯一条件导致

##### 2021年9月13日
1. 接口定义处生成数据文件文件名未正常生成问题修复,占位符缺失导致
2. 测试数据生成场景数据文件遇到整数类型生成失败问题修复，数据类型不匹配导致
3. SwaggerAPI文档解析增加formData类型的识别
4. 生成的历史记录文件无法正常查看问题修复，尾缀.yml缺失导致
5. 调整列表宽度，使用数据展示更友好

##### 2021年9月10日
1. 数据文件不存在时，错误信息捕获并抛出
2. 去除遗留的JSON格式数据文件的获取代码
3. 支持任务根据关联场景的优先级顺序执行
4. 支持错误信息追加返回
5. 场景列表支持修改时间查看，回写结果同步更新时间

##### 2021年9月3日
1. 从测试数据、模块数据，接口定义处生成场景数据文件时，名称和文件名追加随机字符串，
   使用生成数据时被覆盖的机率降低
2. 支持测试用例管理
3. 支持从Xmind导入测试用例（依赖xmind2case第三方工具）

##### 2021年9月2日
1. 变更数据库字段，代码与之对应的字段，与实际含义保持一致
2. 场景列表输入数据文件换行兼容性更好
3. 数据文件复制文件内容未正常复制问题修复
4. 数据库初始始化文件去除强制编码，兼容更多MySQL版本
5. 数据库初始化文件内置数据优化
7. 接口定义，测试数据、模糊测试生成场景数据文件功能完善和逻辑优化
8. 去除JSON格式数据文件的支持，相关功能代码的去除

##### 2021年8月31日
1. 第一次正式对外发布

##### 2021年8月4日
1. 数据文件功能丰富和逻辑完善

##### 2021年6月28日
1. 第一次内网上线部署
